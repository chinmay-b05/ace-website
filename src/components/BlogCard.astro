---
import { ContentType } from '@lib/constants';
import { Icon } from 'astro-icon/components';
import { Image } from 'astro:assets';

type Props = {
  blog: {
    id: number;
    title: string;
    description: string;
    createdAt: string;
    authorName: string;
    image: string | null;
    authorId: string;
    authorImage: string | null;
  };
};

const { blog }: Props = Astro.props;
---

<a href={`/blogs/${blog.id}`} class="block transform transition-transform duration-300 ease-out hover:scale-[1.03] interactable" data-type={ContentType.CardLink}>
  <article class="border blog-card border-gray-700 bg-gray-800 p-4 outline-gray-700">
    <header class="flex justify-between items-center">
      <time class="text-gray-200 truncate max-w-[50%] sm:max-w-[100%]">{blog.createdAt}</time>
      <div class="flex flex-wrap items-center justify-center space-x-2">
        <div class="flex items-center justify-center">
          <span class="text-xs mr-2">{blog.authorName}</span>
          <Image
            src={blog.authorImage ?? ''}
            alt={blog.authorName}
            class="object-cover rounded-full w-8 h-8"
            width="64"
            height="64"
          />
        </div>
      </div>
    </header>
    <div class="-mx-4">
      <Image
        src={blog.image!}
        alt={blog.image}
        class="my-4 aspect-[16/5] w-full object-cover"
        width="600"
        height="300"
      />
    </div>
    <div class="mt-6 grid gap-x-16 gap-y-4 md:grid-cols-2">
      <h3 class="heading-4 md:heading-3">
        <span class="text-2xl overflow-hidden line-clamp-2">
          {blog.title}
        </span>
      </h3>
      <p class="text-gray-200 overflow-hidden line-clamp-3">{blog.description}</p>
    </div>
  </article>
</a>
